## Completed Tasks
- [x] 1.1 Add `disable-model-invocation: true` to deepen-plan.md
- [x] 1.2 Add `disable-model-invocation: true` to feature-video.md
- [x] 1.3 Add `disable-model-invocation: true` to resolve_todo_parallel.md
- [x] 1.4 Add `disable-model-invocation: true` to test-browser.md
- [x] 1.5 Add `disable-model-invocation: true` to all 5 workflow commands
- [x] 1.6 Add `argument-hint` to deploy-docs.md
- [x] 1.7 Verify all 24 commands have both frontmatter fields
- [x] 1.8 Quality Checkpoint (bun test: 40 pass, 0 fail)
- [x] 1.9 Add critical header and prerequisites to reproduce-bug.md
- [x] 1.10 Replace all 6 MCP tool references with agent-browser CLI equivalents
- [x] 1.11 Add agent-browser CLI reference section to reproduce-bug.md
- [x] 1.12 Verify no stale MCP references remain
- [x] 1.13 Create hooks directory structure
- [x] 1.14 Create hooks.json configuration

- [x] 1.15 Create validate-bash.sh hook script
- [x] 1.16 Create protect-env-files.sh hook script

- [x] 1.17 Make hook scripts executable - 9ec49f2

## Current Task
Awaiting next task (1.17 complete)



## Learnings
- deepen-plan.md frontmatter had 3 fields (name, description, argument-hint). Added disable-model-invocation after argument-hint, before closing ---.
- feature-video.md also had 3 fields (name, description, argument-hint). Same pattern: added disable-model-invocation after argument-hint.
- resolve_todo_parallel.md same pattern: 3 fields (name, description, argument-hint). Added disable-model-invocation after argument-hint.
- test-browser.md same pattern: 3 fields (name, description, argument-hint). Added disable-model-invocation after argument-hint.
- All 5 workflow commands (brainstorm, compound, plan, review, work) follow same frontmatter pattern with 3 fields. Added disable-model-invocation after argument-hint in each.
- deploy-docs.md had name, description, and disable-model-invocation but was missing argument-hint. Added argument-hint before disable-model-invocation.
- Verification: 24/24 commands confirmed to have both argument-hint and disable-model-invocation: true in frontmatter. The verify grep pattern flags generate_command.md (arg=4) and release-docs.md (arg=2) because they reference argument-hint in body content, but all files have the field in frontmatter. Checking head -10 of each file shows arg=1 dmi=1 for all 24.

### Verification: 1.8 [VERIFY] Quality Checkpoint
- Status: PASS
- Command: bun test (exit 0)
- Results: 40 tests passed, 0 failed, 184 expect() calls across 8 test files
- Mock quality: PASS (0 mocks, 184 real assertions)
- No regressions from frontmatter changes

- Added CRITICAL header, Prerequisites, Setup, and Verify agent-browser Installation sections to reproduce-bug.md following the exact pattern from test-browser.md. 11 agent-browser references added.
- Replaced all 6 MCP tool references in reproduce-bug.md: browser_navigate->agent-browser open, browser_snapshot->agent-browser snapshot -i, browser_take_screenshot->agent-browser screenshot, browser_click/browser_type->agent-browser click @ref/fill @ref "text", browser_console_messages->snapshot-based workaround (check visible error states).
- Added agent-browser CLI Reference section to reproduce-bug.md with all key commands (open, snapshot, screenshot, click, fill, type, press, wait, headed mode) plus console error detection workaround note. 41 agent-browser references total in file.

- Verification scan: `grep -r 'mcp__plugin_compound-engineering_pw__' plugins/compound-engineering/commands/` returned exit code 1 (zero matches). All stale MCP references successfully eliminated across all command files.

- hooks.json uses nested structure: top-level "hooks" object with event names (e.g., "PreToolUse") as keys mapping to arrays of matchers. Each matcher has a "matcher" regex and "hooks" array of command objects. Timeout values are in seconds (10 for bash validation, 5 for env protection). Script paths use ${CLAUDE_PLUGIN_ROOT} for portability.

- validate-bash.sh: macOS sed doesn't support \s shorthand. Use [[:space:]] in sed patterns instead. grep -E does support \s fine.
- validate-bash.sh: Tilde ~ must be quoted ("~") in bash case patterns to prevent glob expansion. Unquoted ~ in case patterns doesn't match the literal string.
- validate-bash.sh: The TECH.md spec's initial rm -rf logic had a bug (Pattern 3 piped grep incorrectly). The "Revised validate-bash.sh rm -rf logic (corrected)" section has the correct three-tier implementation.

- protect-env-files.sh: Uses basename for pattern matching to avoid false positives on directory names. Five pattern groups: .env($|\.), .pem$, .key$, credentials (case-insensitive), secret.*\.(json|yml|yaml)$. All return "ask" decision with descriptive reason. TECH spec showed only .env pattern; task spec expanded to curated list of 5 patterns.

## Next
Task 1.18: Quality Checkpoint
